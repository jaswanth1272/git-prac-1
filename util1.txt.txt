utility functions of version3